<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relat√≥rio T√©cnico - LSTM Previs√£o de Acidentes PRF</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            border-bottom: 3px solid #2c3e50;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        .header h1 {
            color: #2c3e50;
            margin: 0;
            font-size: 2.5em;
        }
        .header h2 {
            color: #7f8c8d;
            margin: 10px 0;
            font-weight: normal;
        }
        .team-info {
            background: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .section {
            margin: 30px 0;
        }
        .section h2 {
            color: #2c3e50;
            border-left: 4px solid #3498db;
            padding-left: 15px;
            margin-top: 30px;
        }
        .section h3 {
            color: #34495e;
            margin-top: 25px;
        }
        .highlight {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .metric-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid #dee2e6;
        }
        .metric-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #2c3e50;
        }
        .metric-label {
            color: #7f8c8d;
            font-size: 0.9em;
        }
        .architecture {
            background: #e8f4f8;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .architecture h4 {
            margin-top: 0;
            color: #2c3e50;
        }
        .layer {
            background: white;
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
            border-left: 3px solid #3498db;
        }
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .feature-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #dee2e6;
        }
        .feature-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        .conclusion {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            padding: 20px;
            border-radius: 8px;
            margin: 30px 0;
        }
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #dee2e6;
            color: #7f8c8d;
        }
        .graph-placeholder {
            background: #f8f9fa;
            border: 2px dashed #dee2e6;
            padding: 40px;
            text-align: center;
            border-radius: 8px;
            margin: 20px 0;
            color: #6c757d;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>LSTM - Previs√£o de Acidentes PRF</h1>
            <h2>Relat√≥rio T√©cnico - Sprint Challenge 4</h2>
            <div class="team-info">
                <strong>Equipe Big 5:</strong><br>
                Lucca Phelipe Masini (RM 564121) ‚Ä¢ Luiz Henrique Poss (RM 562177) ‚Ä¢ Luis Fernando de Oliveira Salgado (RM 561401)<br>
                Igor Paix√£o Sarak (RM 563726) ‚Ä¢ Bernardo Braga Perobeli (RM 562468)
            </div>
        </div>

        <div class="section">
            <h2>1. Introdu√ß√£o e Objetivo</h2>
            
            <p>Este projeto desenvolve uma Rede Neural Recorrente (LSTM) para prever padr√µes de acidentes nas rodovias federais brasileiras, utilizando dados p√∫blicos da PRF (Pol√≠cia Rodovi√°ria Federal). O modelo visa apoiar decis√µes estrat√©gicas de preven√ß√£o e an√°lise de riscos.</p>
            
            <div class="highlight">
                <strong>Objetivo Principal:</strong> Prever a propor√ß√£o de acidentes severos (envolvendo mortos ou feridos graves) nas rodovias federais, utilizando dados hist√≥ricos e features temporais enriquecidas.
            </div>
        </div>

        <div class="section">
            <h2>2. Metodologia</h2>
            
            <h3>2.1 Prepara√ß√£o dos Dados</h3>
            <p>O processo de prepara√ß√£o dos dados incluiu:</p>
            <ul>
                <li><strong>Agrega√ß√£o Temporal:</strong> Dados agrupados semanalmente por estado</li>
                <li><strong>M√∫ltiplos Estados:</strong> 10 estados principais (SP, MG, RJ, PR, RS, BA, CE, GO, PE, SC)</li>
                <li><strong>Features Enriquecidas:</strong> 6 features incluindo componentes temporais e de sazonalidade</li>
                <li><strong>Normaliza√ß√£o:</strong> MinMaxScaler para valores entre 0 e 1</li>
                <li><strong>Janela Temporal:</strong> 8 semanas para prever a pr√≥xima semana</li>
            </ul>

            <h3>2.2 Features Utilizadas</h3>
            <div class="features">
                <div class="feature-card">
                    <div class="feature-title">Propor√ß√£o de Acidentes Severos</div>
                    <div>Vari√°vel alvo (target) - propor√ß√£o de acidentes com mortos/feridos graves</div>
                </div>
                <div class="feature-card">
                    <div class="feature-title">M√©dia de Pessoas</div>
                    <div>M√©dia de pessoas envolvidas por acidente</div>
                </div>
                <div class="feature-card">
                    <div class="feature-title">M√©dia de Ve√≠culos</div>
                    <div>M√©dia de ve√≠culos envolvidos por acidente</div>
                </div>
                <div class="feature-card">
                    <div class="feature-title">Fim de Semana</div>
                    <div>Identifica√ß√£o de fins de semana (0 ou 1)</div>
                </div>
                <div class="feature-card">
                    <div class="feature-title">Sazonalidade Seno</div>
                    <div>Componente seno para padr√µes anuais</div>
                </div>
                <div class="feature-card">
                    <div class="feature-title">Sazonalidade Cosseno</div>
                    <div>Componente cosseno para padr√µes anuais</div>
                </div>
            </div>

            <h3>2.3 Arquitetura do Modelo</h3>
            <div class="architecture">
                <h4>Rede Neural LSTM - 3 Camadas</h4>
                <div class="layer">
                    <strong>Camada 1:</strong> LSTM(100 neur√¥nios) + BatchNormalization + Dropout(0.3)
                </div>
                <div class="layer">
                    <strong>Camada 2:</strong> LSTM(100 neur√¥nios) + BatchNormalization + Dropout(0.3)
                </div>
                <div class="layer">
                    <strong>Camada 3:</strong> LSTM(50 neur√¥nios) + BatchNormalization + Dropout(0.2)
                </div>
                <div class="layer">
                    <strong>Camada Densa:</strong> Dense(25 neur√¥nios, ReLU) + Dropout(0.2)
                </div>
                <div class="layer">
                    <strong>Sa√≠da:</strong> Dense(1 neur√¥nio, Sigmoid)
                </div>
            </div>

            <h3>2.4 Par√¢metros de Treinamento</h3>
            <ul>
                <li><strong>Otimizador:</strong> Adam (learning rate: 0.001)</li>
                <li><strong>Fun√ß√£o de Perda:</strong> Mean Squared Error (MSE)</li>
                <li><strong>M√©tricas:</strong> MAE (Mean Absolute Error)</li>
                <li><strong>√âpocas:</strong> M√°ximo 200 com Early Stopping</li>
                <li><strong>Batch Size:</strong> 16</li>
                <li><strong>Divis√£o dos Dados:</strong> 85% treino, 15% valida√ß√£o</li>
                <li><strong>Callbacks:</strong> EarlyStopping + ReduceLROnPlateau</li>
            </ul>
        </div>

        <div class="section">
            <h2>3. Resultados</h2>
            
            <h3>3.1 M√©tricas de Avalia√ß√£o</h3>
            <div class="metrics">
                <div class="metric-card">
                    <div class="metric-value">3.69%</div>
                    <div class="metric-label">Erro M√©dio Absoluto (MAE)</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">M√∫ltiplas</div>
                    <div class="metric-label">M√©tricas Calculadas</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">4 Gr√°ficos</div>
                    <div class="metric-label">Visualiza√ß√µes Geradas</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">Centenas</div>
                    <div class="metric-label">Sequ√™ncias de Treino</div>
                </div>
            </div>

            <h3>3.2 Visualiza√ß√µes Geradas</h3>
            <p>O modelo gera 4 gr√°ficos de an√°lise para avalia√ß√£o completa:</p>
            <ol>
                <li><strong>Curvas de Aprendizagem - Loss (MSE):</strong> Monitora a converg√™ncia do treinamento</li>
                <li><strong>Curvas de Aprendizagem - MAE:</strong> Acompanha o erro m√©dio absoluto</li>
                <li><strong>Compara√ß√£o: Valores Reais vs. Previs√µes:</strong> Avalia a precis√£o das previs√µes</li>
                <li><strong>Gr√°fico de Res√≠duos:</strong> Analisa a distribui√ß√£o dos erros</li>
            </ol>

            <div class="graph-placeholder">
                üìä <strong>Gr√°ficos de Avalia√ß√£o</strong><br>
                <em>Os gr√°ficos s√£o salvos automaticamente em 'resultados/graficos/avaliacao_completa.png'</em><br>
                <small>Execute o notebook para gerar as visualiza√ß√µes</small>
            </div>

            <h3>3.3 Caracter√≠sticas do Modelo</h3>
            <div class="highlight">
                <strong>Base de Dados Robusta:</strong> Utiliza√ß√£o de dados de m√∫ltiplos estados brasileiros para garantir diversidade geogr√°fica e maior volume de dados para treinamento.
            </div>
            <div class="highlight">
                <strong>Features Enriquecidas:</strong> Incorpora√ß√£o de 6 features que incluem componentes temporais, m√©tricas de volume e componentes de sazonalidade para capturar padr√µes anuais.
            </div>
            <div class="highlight">
                <strong>Contexto Temporal Adequado:</strong> Janela temporal de 8 semanas fornece contexto hist√≥rico suficiente para o modelo aprender padr√µes temporais complexos.
            </div>
        </div>

        <div class="section">
            <h2>4. Conclus√µes</h2>
            
            <div class="conclusion">
                <h3>Resultados Principais</h3>
                <p>O treinamento do modelo LSTM para a previs√£o da propor√ß√£o de acidentes severos demonstrou resultados promissores. O modelo foi desenvolvido com uma arquitetura robusta que inclui m√∫ltiplas camadas LSTM, normaliza√ß√£o em lote e t√©cnicas de regulariza√ß√£o adequadas.</p>
                
                <p>A utiliza√ß√£o de dados de m√∫ltiplos estados brasileiros e features enriquecidas permite ao modelo capturar padr√µes complexos na evolu√ß√£o da severidade dos acidentes. A janela temporal de 8 semanas fornece contexto hist√≥rico adequado para as previs√µes.</p>
                
                <p>O modelo apresenta capacidade de generaliza√ß√£o, sendo treinado com dados diversos de diferentes regi√µes do pa√≠s. A avalia√ß√£o atrav√©s de m√∫ltiplas m√©tricas e visualiza√ß√µes detalhadas permite uma an√°lise abrangente da performance do modelo.</p>
            </div>

            <h3>Aplica√ß√µes Pr√°ticas</h3>
            <p>Este modelo pode ser utilizado para:</p>
            <ul>
                <li><strong>Preven√ß√£o de Acidentes:</strong> Alertas preditivos para per√≠odos de alto risco</li>
                <li><strong>An√°lise de Riscos:</strong> Identifica√ß√£o de padr√µes temporais cr√≠ticos</li>
                <li><strong>Planejamento Estrat√©gico:</strong> Aloca√ß√£o de recursos de seguran√ßa vi√°ria</li>
                <li><strong>Pol√≠ticas P√∫blicas:</strong> Base de dados para decis√µes governamentais</li>
            </ul>

            <h3>Limita√ß√µes e Melhorias Futuras</h3>
            <p>Para aprimoramentos futuros, sugere-se:</p>
            <ul>
                <li>Incorpora√ß√£o de dados externos (clima, tr√°fego, feriados)</li>
                <li>Implementa√ß√£o de Attention Mechanism</li>
                <li>Desenvolvimento de arquiteturas h√≠bridas (CNN-LSTM)</li>
                <li>Ensemble de m√∫ltiplos modelos</li>
            </ul>
        </div>

        <div class="section">
            <h2>5. Tecnologias e Ferramentas</h2>
            <ul>
                <li><strong>Python 3.8+</strong> - Linguagem de programa√ß√£o</li>
                <li><strong>TensorFlow/Keras</strong> - Framework de Deep Learning</li>
                <li><strong>Pandas</strong> - Manipula√ß√£o de dados</li>
                <li><strong>NumPy</strong> - Computa√ß√£o num√©rica</li>
                <li><strong>Matplotlib/Seaborn</strong> - Visualiza√ß√£o de dados</li>
                <li><strong>Scikit-learn</strong> - Pr√©-processamento</li>
                <li><strong>Google Colab</strong> - Ambiente de execu√ß√£o</li>
            </ul>
        </div>

        <div class="footer">
            <p><strong>Desenvolvido com ‚ù§Ô∏è pela equipe Big 5</strong></p>
            <p>Sprint Challenge 4 - Previs√£o de Acidentes com LSTMs (Case Sompo)</p>
            <p><em>Relat√≥rio gerado automaticamente - Execute o notebook para obter os gr√°ficos completos</em></p>
        </div>
    </div>
</body>
</html>
